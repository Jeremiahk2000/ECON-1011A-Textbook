\chapter{Firms with a single input}
We start with one of the simplest economic models: a firm in a perfectly competitive market with a single input. Firms are one of the most basic components of the economy. Firms purchase inputs, convert those inputs into outputs via a production function, and then sell those goods to make a profit. This also gives firms a clear objective function: profit. To make things simple, we assume that the firm only requires one input to produce their good, so the only choice that the firm makes is how much input to purchase. 

\section{Model setup}
We will formalize a mathematical model of the firm. We assume that the firm can choose to hire $\ell$ units of labor at a wage $w$, which is the price per unit of labor. The firm has a production function, $f(\ell)$, which takes the units of labor as an input, and returns some unit of product. We assume that the production function is continuous and twice differentiable, increasing, $f'(\ell) > 0$, and concave $f''(\ell) < 0$, for any of $\ell$. We will first establish this production function as The firm can then sell each unit of product at a price $p$. The firm takes both $p$ and $w$ as exogenous variables. We can then define the firm's profit, $\pi$, as follows:
\begin{align}
    \pi(\ell; p, w) = p f(\ell) - w \ell \label{profit_def}
\end{align}
Notice that our profit function has inputs. $\ell$, the units of labor hired, is the choice variable for the firm. $p$, the price of the product, and $w$, the wage cost of labor, are both exogenous variables. While we write them explicitly here, we will often only write $\pi$ and the arguments to it are implicit. 

While this seems like a fairly simple model, there are some pretty important assumptions underlying it.

\subsection{Assumptions}
\begin{description}
    \item[Perfectly competitive market for output] Notice that the firm treats the price $p$ as exogenous. That is, no matter how much the firm produces, they can always sell goods at price $p$, and \emph{only} at price $p$. This means, first, that the firm is a \vocab{price-taker}, which means that they cannot set a price $p$ that differs from the market price $p$. The underlying assumption here is that there are enough other firms that if this firm were to raise its price, all of the customers would buy from other firms and our firm would sell 0. This assumption also entails that the amount our firm produces does not affect the market price, which can be taken to mean that there are many other firms producing a lot of the same good, so our firm's decisions do not have a noticeable effect on $p$. 
    \item[Perfectly competitive labor market] Similar to the above market for goods, we also assume that the market for labor is perfectly competitive. That is, the firm can only hire at the wage $w$, and that no matter how much labor the firm hires, the wage will not change. 
    \item[No liquidity constraints] We assume that the firm has the ability to hire as much labor as they want, and all that matters is the final profit. That is, the firm does not have some fixed budget for labor at the beginning. This can be thought of as a firm's ability to borrow at zero interest to finance labor so long as the loan is paid back. This assumption is key to the firm problem, as it allows us to deal with an unconstrained maximization problem rather than requiring a budget constraint for the firm. 
    \item[Diminishing marginal returns to consumption] This was expressed mathematically as $f''(\ell) < 0$. In real terms, this says that each additional unit of labor contributes less additional production than the previous unit of labor did, and represents a sort of ``too many cooks in the kitchen'' effect. Notice however that we will assume $f'(\ell) > 0$, so even if each additional unit of labor contributes less additional output than the previous unit, adding more units of labor can never make us produce less output. 
\end{description}

One reasonable question to ask with all of these assumptions in place is whether they are realistic assumptions. The answer is that they probably are not all perfectly realistic. However, there are cases where these assumptions might be close enough. Consider the market for corn, for example. Each individual farmer's corn production has a negligible effect on the market as a whole, and they have enough money every year to grow as much corn as is profitable. However, we will see that even if these assumptions are not all realistic, they help simplify the model so that we can solve it and gain some useful insights about the mechanics of this economy. 

\section{Solving the model}
Now that we have setup the model and established the underlying assumptions, we can begin to solve the model. Our objective function is $\pi$, and our choice variable is $\ell$, so we can write our maximization problem as follows:
\begin{align}
    \max_{\ell} \pi(\ell; p, w) = \max_{\ell} p f(\ell) - w \ell
\end{align}

\subsection{First order conditions}
Our first order condition is that the derivative of the objective function with respect to our choice variable is 0, which is
\begin{align}
    \partials{\pi}{\ell} = 0 \label{profit_foc}
\end{align}
We can plug in our function for $\pi$ using our definition in \ref{profit_def} and differentiate with respect to $\ell$ to obtain,
\begin{align}
    \partials{\pi}{\ell} = p f'(\ell) - w = 0
\end{align}
This is our first order condition for an optimal profit. With some rearranging, we obtain that
\begin{align}
    p f'(\ell) = w
\end{align}
Notice that this yields a very useful interpretation. The left hand side is the marginal revenue from an additional unit of labor. That is, for a small amount more labor, we produce $f'(\ell)$ more goods, which are sold at a price $p$. On the right hand side is the marginal cost for an additional unit of labor, because for a small amount more labor, we pay that labor a wage $w$. What this tells us is that when a firm is profit maximizing, \textbf{marginal revenue equals marginal cost}. 

Notice further that this implicitly defines our optimal choice of labor, which we will denote $\ell^*$. Because we do not know the functional form of $f$, we cannot yet write an explicit definition of $\ell^*$, but it is implicitly defined by the first order condition,
\begin{align}
    p f'(\ell^*) = w
\end{align}
Observe further that the value of $\ell^*$ depends on the values of $p$ and $w$, so we can express it as a function of the exogenous variables, $\ell^*(p, w)$. 

\subsection{Second order conditions}
In order to verify that $\ell^*$ is indeed a global maximum, and not a local maximum or even a minimum, we need to verify the second order conditions. Namely, that
\begin{align*}
    \partials{^2\pi}{\ell^2} < 0
\end{align*}
To do so, we can just differentiate the first derivative from \ref{profit_foc} with respect to $\ell$ again to obtain, 
\begin{align}
    \partials{^2\pi}{\ell^2} = pf''(\ell)
\end{align}
We need the above derivative to hold with respect to any $\ell$. However, we assumed that $f''(\ell) < 0$, and since $p > 0$, then we have that $pf''(\ell) < 0$, which satisfies our second order conditions.

This tells us that $\ell^*$ defines a global maximum, which means that the firm is indeed profit maximizing! 

\subsection{Some intuition}
While the above provides the mathematical technique for how to maximize, it is useful to get some intuition about what is actually happening here. To do so, we can think about the firm's decision process.

Suppose that you are running the firm but do not know any calculus. However, you do know how much you will produce for a given amount of labor and how much money you will make. One way you might decide how much labor to hire is to think what will happen if you hire one additional worker. At each point, you ask yourself whether you will make more money by hiring an additional worker or less money by hiring an additional worker. What determines this? Whether the contribution of that additional worker is greater than the additional cost of hiring that worker. Mathematically, you would hire an additional worker so long as, $p f'(\ell) > w$. 

However, you also know that because each additional worker's contribution is less than the last worker hired, at some point you will stop hiring workers. This is the second order condition at work. So, if the increments are small enough, you will eventually reach a point where hiring an additional worker makes no difference. That is, that $p f'(\ell) = 0$, which is the first order condition. At this point, you should stop hiring workers because any more workers that you hire will cost more than they produce. 

At some level, all economic optimization methods boil down to this process. Thinking about what will happen if increase some quantity by an infinitesimal amount, and requiring that doing so makes no difference. 

\section{Specific production functions}
